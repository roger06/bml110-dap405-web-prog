<!DOCTYPE html>
<html>
	<head>


        <title>Passports with JS-ME</title>

        <script>
//            from http://jsfiddle.net/t656N/1/

           function addFields(){
            var number = document.getElementById("passport").value;  // user input

            var container = document.getElementById("container");  // where in the DOM we're going to write to.

            while (container.hasChildNodes()) {
                container.removeChild(container.lastChild);   // get rid of anything there previously.

                console.log('removing ' +  container.lastChild );  //

            }

            for (i=0;i<number;i++){   // loop through from zero until the number the user supplied.

                container.appendChild(document.createTextNode("Applicant " + (i+1)));  // create the text for the form with a number



                var input = document.createElement("input");   // build the input field
                input.type = "text";   // make sure it's a text box
//                input.name = "passports[]";   // this was missing from the original fiddle example

                container.appendChild(input);  // append (add) what we've created to the container
                container.appendChild(document.createElement("br"));  // and throw in a line break
            }
        }


        </script>
    </head>

    <body>

        <h1>Passport renewal service</h1>
        <h4>How many passports do you wish to renew?</h4>
    <input type="text" id="passport" name="passport" value=""><br />

        <a href="#" id="filldetails" onclick="addFields()">Start Application</a>


    <div id="container"/>

    </body>
</html>
