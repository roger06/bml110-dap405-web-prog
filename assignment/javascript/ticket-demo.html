<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ticket booking</title>

    <style>
        #buy, #total{

            display: none;
        }
    </style>

    <script>

            function clickme(){
                
                // get the number


                var num = document.getElementById("num-tickets").value;
                
                var namesForm = document.getElementById("inputs");
                namesForm.innerHTML = "";
 
                // loop and create x number of text input boxes.

                for (let index = 1; index <= num; index++) {
               
                    var node = document.createElement("li");   // create list item
 
                    var textInput = document.createElement("input");  // create text box
                    textInput.setAttribute("type", "text");      // specify it as a text input
                    textInput.classList.add("customername");  // add class to text box
 		 
				    node.appendChild(textInput);
                    namesForm.appendChild(node);


                } // end for loop

                // set the buy button visible.
                document.getElementById("buy").style.display = "block";

            }  // end clickme()





            function buy(){

                // alert("buy fn");

                var names = document.getElementsByClassName("customername");  // names in an array (collection) of all the input boxes for names
                var price = 15;
                var  total = 0;

                var confirmList = document.getElementById("confirm");
                // names.forEach(element => {
                //     console.log(element);
                // });
                
                for ( index = 0; index < names.length; index++) {
                     console.log(names[index].value);

                     var node = document.createElement("li");  
                     var nameConfirm = document.createTextNode(names[index].value);

                     node.appendChild(nameConfirm);
                     confirmList.appendChild(node);


                     total += price;
                    //  console.log(" price " + price + "total " + total);
                    
                }
              

              console.log("total price " + total );

                document.getElementById("total").innerHTML = "Total = " + total;
                
                 // set the total field visible.
                 document.getElementById("total").style.display = "block";

            }  // end buy()

    </script>

</head>
<body>

    <h1>Ticket booking system</h1>

    <p>Â£15 per ticket - the page will not reload.</p>

    
<P>ENTER a number</P>
            <input type="number" name="num-tickets" id="num-tickets" value="2">

    <button onclick="clickme();" >next</button>




    <!-- // to display input boxes once number selected  -->
           <ol id="inputs">


           </ol>

           <button id="buy" onclick="buy();">Buy!</button>

          <!-- list to confirm names -->
           <ol id="confirm">


             </ol>
             <!-- confirmation of total price (hidden to start with ) -->

             <h2 id="total"></h2>
</body>
</html>